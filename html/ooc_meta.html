<!-- $Id: ooc_meta.html,v 1.2 2004/10/25 09:01:26 dav480 Exp $ -->
<html>

<head> <title>
OOC Methods: Metadata
</title> </head>

<body>

<h2> <center>
OOC Methods which return Metadata
</center> </h2>

<h3>Table of Contents</h3>

<ol>
    <li><a href="#intro">Introduction</a>
    <li><a href="#coordinate">Method <code>coordinate</code></a>
    <li><a href="#count">Method <code>count</code></a>
    <li><a href="#datatype">Method <code>datatype</code></a>
    <li><a href="#dimension">Method <code>dimension</code></a>
    <li><a href="#format">Method <code>format</code></a>
    <li><a href="#header">Method <code>header</code></a>
    <li><a href="#label">Method <code>label</code></a>
    <li><a href="#link">Method <code>link</code></a>
    <li><a href="#missing">Method <code>missing</code></a>
    <li><a href="#ooc">Method <code>ooc</code></a>
    <li><a href="#rank">Method <code>rank</code></a>
    <li><a href="#sequence">Method <code>sequence</code></a>
    <li><a href="#shape">Method <code>shape</code></a>
    <li><a href="#slot">Method <code>slot</code></a>
    <li><a href="#step">Method <code>step</code></a>
    <li><a href="#unit">Method <code>unit</code></a>
</ol>

<h3>
<a name=intro>Introduction
</h3>

The following code defines vectors 
&quot;<code>x</code>&quot; and &quot;<code>y</code>&quot; for use
in the examples below:
<pre>
% nap "x = 0 .. 2 ... 0.5"
::NAP::58-58
% nap "y = x ** 2"
::NAP::61-61
% $y val -format %0.3f
0.000 0.250 1.000 2.250 4.000
</pre>

<h3><a name=coordinate>Method <code>coordinate</code></h3>

<VAR>ooc_name</VAR><CODE> coordinate</CODE> ?<VAR>dim_name</VAR>|<VAR>dim_number</VAR>? ?<VAR>dim_name</VAR>|<VAR>dim_number</VAR>? &hellip;<br>

<p>
This returns the OOC-names of the coordinate variables of selected dimensions.
If no dimensions are specified then the effect is the same as:<br>
<VAR>ooc_name</VAR><CODE> coo</CODE> 0 1 2 &hellip; rank-1"<br>

<p>
Example:
<pre>
% $y set coo x
% $y coo
::NAP::58-58
% [$y coo]
0 0.5 1 1.5 2
</pre>

<h3><a name=count>Method <code>count</code></h3>
<p>
<VAR>ooc_name</VAR><CODE> count</CODE>
<CODE>-keep</CODE><br>

<p>
This returns the reference count.

<p>
Example (using <code>x</code> defined in previous example):
<pre>
% $x count
2
</pre>
Note that the reference count is 2 because this NAO is referenced by both
<li>Tcl variable <code>x</code>
<li> coordinate variable pointer of NAO <code>::NAP::61-61</code> 

<h3><a name=datatype>Method <code>datatype</code></h3>
<p>
<VAR>ooc_name</VAR><CODE> datatype</CODE><br>

<p>
This returns the
data-type.

<p>
Example:
<pre>
% [nap "'hello'"] dat
c8
</pre>

<h3><a name=dimension>Method <code>dimension</code></h3>
<p>
<VAR>ooc_name</VAR><CODE> dimension</CODE> ?<VAR>dim_number</VAR>? ?<VAR>dim_number</VAR>? &hellip;<br>

<p>
This returns
the dimension names.<br>

<p>
<VAR>ooc_name</VAR><CODE> di</CODE><br>
is equivalent to:<br>
<VAR>ooc_name</VAR><CODE> di</CODE> 0 1 2 &hellip; rank-1"<br>

<p>
Example (again continuing above example):
<pre>
% $y dim
x
</pre>

<h3><a name=format>Method <code>format</code></h3>
<p>
<VAR>ooc_name</VAR><CODE> format</CODE><br>

<p>
This returns
the C format for printing the NAO.

<p>
Example:
<pre>
% $y set format %.4f
% $y format
%.4f
% $y value
0.0000 0.2500 1.0000 2.2500 4.0000
</pre>

<h3><a name=header>Method <code>header</code></h3>
<p>
<VAR>ooc_name</VAR><CODE> header</CODE>
<CODE>-keep</CODE><br>

<p>
This returns similar information to the following 
(but using a different format):
<br>
<VAR>ooc_name</VAR><CODE> ooc</CODE><br>
<VAR>ooc_name</VAR><CODE> datatype</CODE><br>
<VAR>ooc_name</VAR><CODE> missing</CODE><br>
<VAR>ooc_name</VAR><CODE> count</CODE><br>
<VAR>ooc_name</VAR><CODE> unit</CODE><br>
<VAR>ooc_name</VAR><CODE> shape</CODE><br>
<VAR>ooc_name</VAR><CODE> dimension</CODE><br>
<VAR>ooc_name</VAR><CODE> coordinate</CODE><br>

<p>
Example (continuing above example):
<pre>
% $y header
::NAP::61-61  f64  MissingValue: NaN  References: 1  Unit: (NULL)
Dimension 0   Size: 5      Name: x         Coordinate-variable: ::NAP::58-58
% 
</pre>

<h3><a name=label>Method <code>label</code></h3>
<p>
<VAR>ooc_name</VAR><CODE> label</CODE><br>

<p>
This returns
the label (title, etc.) of the NAO.

<p>
Example:
<pre>
% $y set label "areas of squares"
% $y label
areas of squares
</pre>

<h3><a name=link>Method <code>link</code></h3>
<p>
<VAR>ooc_name</VAR><CODE> link</CODE><br>

<p>
This returns
         the OOC-name of the link NAO.

<p>
Example:
<pre>
% $y set link [nap 42]
% [$y link]
42
</pre>

<h3><a name=missing>Method <code>missing</code></h3>
<p>
<VAR>ooc_name</VAR><CODE> missing</CODE><br>

<p>
This returns
the missing value.
This is the value used to indicate null or undefined data.

<p>
Example:
<pre>
% $y miss
NaN
</pre>

<h3><a name=ooc>Method <code>ooc</code></h3>
<p>
<VAR>ooc_name</VAR><CODE> ooc</CODE>
<CODE>-keep</CODE><br>

<p>
This returns
        the OOC-name of the NAO.

<p>
Example:
<pre>
$y ooc
::NAP::61-61
</pre>

<h3><a name=rank>Method <code>rank</code></h3>
<p>
<VAR>ooc_name</VAR><CODE> rank</CODE><br>

<p>
This returns
the rank (number of dimensions).

<p>
Example:
<pre>
% $y rank
1
</pre>

<h3><a name=sequence>Method <code>sequence</code></h3>
<p>
<VAR>ooc_name</VAR><CODE> sequence</CODE>
<CODE>-keep</CODE><br>

<p>
This returns
the sequence number of the NAO. E.g. 42 for <code>nao.42-9</code><br>
<BR><CODE>-keep</CODE>: Do not delete NAO with reference count of 0

<p>
Example:
<pre>
% $y seq
61
</pre>

<h3><a name=shape>Method <code>shape</code></h3>
<p>
<VAR>ooc_name</VAR><CODE> shape</CODE><br>

<p>
This returns
the shape, which is a vector of dimension sizes.

<p>
Example:
<pre>
% $y shape
5
</pre>

<h3><a name=slot>Method <code>slot</code></h3>
<p>
<VAR>ooc_name</VAR><CODE> slot</CODE>
<CODE>-keep</CODE><br>

<p>
This returns
    the slot number of the NAO. E.g. 9 for <code>nao.42-9</code> <BR>

<p>
Example:
<pre>
% $y sl
61
</pre>

<h3><a name=step>Method <code>step</code></h3>
<p>
<VAR>ooc_name</VAR><CODE> step</CODE><br>

<p>
This returns
a code which
indicates whether step sizes of a vector are equal, and if not, their sign.
NAP uses this information for efficiency.
It indicates whether a vector (not relevant for other ranks)
is monotonically ascending/descending,
and if so whether it is an arithmetic progression (AP).
The result code is one of following strings:
<li>"<CODE>+-</CODE>": at least one positive step and one negative step
<li>"<CODE>>= 0</CODE>": all steps >= 0
<li>"<CODE><= 0</CODE>": all steps <= 0
<li>"<CODE>AP</CODE>": equal steps (except final one which may be shorter)

<p>
Example:
<pre>
% [nap "{3 5 7 7.1}"] step
AP
</pre>

<h3><a name=unit>Method <code>unit</code></h3>
<p>
<VAR>ooc_name</VAR><CODE> unit</CODE><br>

<p>
This returns
the unit of measure.
This may be used in the future to support arithmetic with automatic unit
conversion, but at the moment it is just descriptive information.

<p>
Example:
<pre>
% $y set unit seconds
% $y unit
seconds
</pre>

<P>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="2" bgcolor="737b9c">
  <TR>
    <TD align="center"><FONT color="#ffffff" size=-2><SPAN class="titlebar">
        <b>Author:</b> <a href="http://sourceforge.net/users/dav480/">Harvey Davies</a>
        &nbsp; &nbsp; &nbsp;
        &copy; 2002, CSIRO Australia.
        &nbsp; &nbsp; &nbsp;
        <a href="http://www.csiro.au/legalnotices/disclaimer.html">Legal Notice and Disclaimer</a>
        <br>

        <b>CVS Version Details:</b> $Id: ooc_meta.html,v 1.2 2004/10/25 09:01:26 dav480 Exp $
        </SPAN></FONT>
    </TD>
  </TR>
</TABLE>

</body>
</html>
