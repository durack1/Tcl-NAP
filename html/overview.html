<html>
<head> <title>
Overview of NAP
</title> </head>

<body>

<h2> <center>
Overview of NAP (N-Dimensional Array Processor)
</center> </h2>

<p>
NAP is a loadable extension of Tcl which provides a powerful and efficient facility for processing
data in the form of n-dimensional arrays.
It has been designed to provide a tcl-flavoured
array-processing facility with much of the functionality of languages such as 
<a href="http://www.acm.org/sigapl/">APL</a>,
<a href="http://www.fortran.com/fortran/">Fortran-90</a>,
<a href="http://www.rsinc.com/idl/index.asp">IDL</a>,
<a href="http://www.jsoftware.com/">J</a>,
<a href="http://www.mathworks.com/">matlab</a> and
<a href="http://www.octave.org/">octave</a>.
Three other tcl extensions which provide array-processing facilities are
<a href="http://www-obs.univ-lyon1.fr/%7Ethiebaut/TiM/TiM.html">TiM</a>,
<a href="http://sourceforge.net/projects/blt/">BLT</a> and
<a href="http://www.gm.com/automotive/innovations/rnd/TK3/TK3D_Software_Description.html">Tk3D</a>.
</p>

<p>
Existing Tcl facilities (e.g. Tcl variables and procedures) are used where appropriate.
The new facilities have
been designed to match similar existing ones.  In particular, NAP expressions use conventions which
are essentially a superset of those of the Tcl <code>expr</code> command.
Support is provided for data based on <em>n-dimensional grids</em>,
where the dimensions correspond to continuous spatial coordinates.  
There are interfaces to the 
<a href="http://hdf.ncsa.uiuc.edu">HDF</a>
and 
<a href="http://www.unidata.ucar.edu/packages/netcdf/index.html">netCDF</a>
file formats commonly used for such data,
especially in Earth sciences such as Oceanography and Meteorology.
There is a new photo image format for NAP data.
</p>

<p>
NAP was developed as part of the CSIRO 
<a href="http://www.dar.csiro.au/rs/avhrr_processing_software.htm">CAPS</a>
project, but can be loaded and used without
the (satellite oriented) CAPS extension. However the CAPS extension requires
NAP since most CAPS data are stored as NAOs.
</p>

<p>
Data are stored in memory as <em>n-dimensional array objects (NAOs)</em>,
which include information such as:
<ul>
<li>data-type
<li> unique ID (handle generated by NAP) called the <em>OOC-name</em> (OOCs are discussed below)
<li>optional label
<li>optional unit of measure
<li>reference count (allowing automatic deletion of the NAO when it is no longer needed)
<li>optional missing-value (used to indicate undefined data, etc.)
<li>rank (number of dimensions)
<li>dimension sizes
<li>optional dimension names
<li>optional pointers to <em>coordinate-variable</em> NAOs associated with each dimension
</ul>
There are eleven
data-types, six for integers, two for floating-point, one for characters, one 
<em>pointer</em> type (allowing
arrays of arrays) and a <em>ragged</em> type providing a form of compression.
<p></p>

<p>
NAOs are created by the Tcl commands <code>nap</code> and <code>nap_get</code>. 

<p>
The <code>nap</code> command takes arguments specifying an expression in a
manner similar to the <code>expr</code> command.
However, unlike <code>expr</code>, <code>nap</code> provides:
<ul>
<li> array facilities (constants, operators, functions, indexing)
<li> assignment (to a Tcl variable whose value is set to the OOC-name of the resultant NAO)
<li> substitution of Tcl names (obviating the need for &quot;<code>$</code>&quot; prefixes)
</ul>

<p>
The <code>nap_get</code> command creates a NAO from data read from 
a binary, HDF or netCDF file. </p>

<p>
Every NAO has an associated Tcl command called an <em>object-oriented command</em>
(<em>OOC</em>).
This is used to:
<ul>
    <li>display the data in the NAO
    <li>display other information about the NAO such as its data-type and dimensions
    <li>change data and other details
    <li>write data from the NAO to a binary,  HDF or netCDF file
</ul>
<p></p>

<P>
As usual in Tcl, OOC and <code>nap_get</code> command options can be abbreviated provided there
is no ambiguity.
</p>

<P>
NAP provides many operators and built-in functions.
One can define new functions by defining Tcl procedures with the <code>proc</code> command.
It is also possible to call functions written in C and Fortran.
</p>

<P>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="2" bgcolor="737b9c">
  <TR>
    <TD align="center"><FONT color="#ffffff" size=-2><SPAN class="titlebar">
        <b>Author:</b> <a href="http://sourceforge.net/users/dav480/">Harvey Davies</a>
        &nbsp; &nbsp; &nbsp;
        &copy; 2002, CSIRO Australia.
        &nbsp; &nbsp; &nbsp;
        <a href="http://www.csiro.au/legalnotices/disclaimer.html">Legal Notice and Disclaimer</a>
        <br>

        <b>CVS Version Details:</b> $Id: overview.html,v 1.7 2003/05/20 05:31:36 dav480 Exp $
        </SPAN></FONT>
    </TD>
  </TR>
</TABLE>

</body>
</html>

