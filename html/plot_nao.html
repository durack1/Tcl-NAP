<!-- $Id: plot_nao.html,v 1.13 2004/10/21 05:37:54 dav480 Exp $ -->
<html>

<head> <title>
NAP plot_nao
</title> </head>

<body>

<h2> <center>
Visualisation using procedure <code>plot_nao</code>
</center> </h2>

<h3>Table of Contents</h3>

<ol>
    <li><a href="#Introduction">Introduction</a>
    <li><a href="#Usage">Usage</a>
    <li><a href="#Examples">Examples</a>
    <ol>
	<li><a href="#xy">x-y graphs and barcharts</a>
	<li><a href="#z2">Color-coded z-images</a>
	<li><a href="#z3">RGB z-images, tiles and animation</a>
	<li><a href="#print">Printing and writing files</a>
    </ol>
</ol>

<h3><a name=Introduction>Introduction</h3>
 
A NAO can be visualised using procedure <code>plot_nao</code>, which can represent it by:
<ul>
<li> xy graphs (1D and 2D NAOs)
<li> barcharts and histograms (1D and 2D NAOs)
<li> color-coded z-images and maps (2D NAOs)
<li> RGB z-images and maps (3D NAOs with three layers for red, green and blue)
<li> tiled images (multiple color-coded z-images on a page) (3D NAOs)
</ul>
If there are additional dimensions then 
it is possible to generate multiple frames which can be animated.
See examples.

<p>
The right mouse button displays a menu.
The left mouse button saves (x,y,z) values (z-images only) which can be written to a file.

<p>
The Tcl code is in the files <code>plot_nao.tcl</code> and <code>plot_nao_procs.tcl</code>.

<h3><a name=Usage>Usage</h3>

<code>plot_nao</code> <i>expression ?options?</i>

<h4><a name=Options>Options</h4>

Most options can be set using either the above <I>command-line</I> or the <I>options menu</I>.

<p>

<CODE>
-barwidth </CODE> <I>float</I>: (bar chart only) width of bars in x-coordinate units
(Default: 1.0)

<BR><CODE>
-buttonCommand </CODE> <I>script</I>: executed when button pressed with z-plots 
(Default:
<CODE>
"lappend&nbsp;Plot_nao::${window_id}::save&nbsp;[set&nbsp;Plot_nao::${window_id}::xyz]"
</CODE>)

<BR><CODE>
-colors </CODE> <I>list</I>: Colors of xy graphs or bars. (Default:
<code>black red green blue yellow orange purple grey aquamarine beige</code>)

<BR>
<CODE>
-columns
</CODE>
<I>int</I>:
(tiled-plot only) number of columns of tiles on page 

<BR>
<CODE>
-dash
</CODE>
<i>list</i>:
Dash patterns of xy-graph lines. (Default: 
<CODE>
""
</CODE>
i.e. all full lines) 
Each element is 
<CODE>
""
</CODE>
for full line, 
<CODE>
" "
</CODE>
for no line, or standard Tk dash pattern (See entry for <I>canvas</I> in Tk manual).

<BR><CODE>
-discrete </CODE> 0 or 1: 1 = Discrete colors between major z tick marks. (Default: 0)

<BR><CODE>
-filename </CODE>
<I>
name with extension
</I>
<CODE>
.ps, .gif, .jpeg,
</CODE>
<I>
etc.:
</I>
File produced by <code>-print</code>
(Default: Print rather than writing a file)

<BR><CODE>
-fill </CODE> 0 or 1: 1 = Scale PostScript to fill page. (Default: 0)

<BR><CODE>
-font_standard </CODE> <I>font</I>: Main font. (Default: <code>"courier 10"</code>)

<BR><CODE>
-font_title </CODE> <I>font</I>: Font for title. (Default: <code>"courier 16"</code>)

<BR><CODE>
-gap_height </CODE> <I>int</I>: height (pixels) of horizontal white gaps between tiles
(Default: 20)

<BR><CODE>
-gap_width </CODE>  <I>int</I>: width  (pixels) of  vertical  white gaps (Default: 20)

<BR><CODE>
-geometry </CODE> <I>string</I>: If specified then use to create new toplevel window.

<BR><CODE>
-height </CODE> <I>int</I>: Desired height (screen units). Not used for tiled-plot.
<BR>
&nbsp; &nbsp; &nbsp;
Type xy/bar: Height of whole window (Default: automatic)
<BR>
&nbsp; &nbsp; &nbsp;
Type z: Image height (can be "min max") (Default: NAO dim if within limits)

<BR><CODE>
-key </CODE> <I>int</I>: width (pixels) of image-key. No key if 0 or blank. (Default: 30)

<BR><CODE>
-labels </CODE> <I>list</I>: Labels of tiles or xy-graphs

<BR><CODE>
-menu </CODE> 0 or 1: 0 = Start with menu bar at top hidden. (Default: 1)

<BR><CODE>
-orientation
P, L 
</CODE>
<i>
or
</i>
<CODE>
A:
</CODE>
P = portrait, L = landscape, A = automatic (Default: A)

<BR><CODE>
-overlay
C, L, S, N
</CODE>
<i>
or
</i>
"<code>E</code> <I>expression</I>": Define overlay.
     C = coast, L = land, S = sea, N = none, E = <I>expr</I> (Default: N)

<BR><CODE>
-oversize_prompt </CODE> 0 or 1: 1 = prompt if image is larger than screen. (Default: 1)

<BR><CODE>
-ovpal </CODE> <I>expression</I>: Overlay palette in same form as main palette
      (Default: black white red green blue)

<BR><CODE>
-palette </CODE> <I>expression</I>: Main palette defining color map for 2D image. This is
      matrix with 3 or 4 columns & up to 256 rows.  If there are 4 columns then the
      first gives color indices in range 0 to 255.  Values can be whole numbers in
      range 0 to 255 or fractional values from 0.0 to 1.0.
<code>
""
</code>
= black-to-white.  (Default: blue-to-red)

<BR><CODE>
-paperheight </CODE> <I>distance</I>: E.g. 
<code>
11i
</code>
 =  11 inch (Default: 
<code>
297m
</code>
 = 297 mm (A4))

<BR><CODE>
-paperwidth </CODE> <I>distance</I>: E.g. 
<code>
8.5i
</code>
 = 8.5 inch (Default: 
<code>
210m
</code>
 = 210 mm (A4))

<BR><CODE>
-parent </CODE> <I>string</I>: parent window (Default:
<code>
""
</code>
i.e. create toplevel window)

<BR><CODE>
-print </CODE> 0 or 1: 1 = automatic print/write (for batch processing) (Default: 0)

<BR><CODE>
-printer </CODE> <I>string</I>: name (Default:
<code>
env(PRINTER)
</code>
if defined, else any printer)

<BR><CODE>
-range </CODE> <I>expression</I>: defines scaling (Default: auto scaling)

<BR><CODE>
-rank </CODE> 1, 2 or 3: rank of sub-arrays to be displayed (Default:
<code>
3 &lt;&lt;&lt; rank(data)
</code>
)

<BR><CODE>
-scaling </CODE> 0 or 1: 0 = Start with scaling widget hidden. (Default: 1)

<BR><CODE>
-symbols </CODE> <I>list</I>: Symbol drawn at each point of xy-graph.
Can be
<code>
plus, square, circle, cross, splus, scross, triangle
</code>
or single character (e.g. 
<code>
"*"
</code>
) (Default:
<code>
""
</code>
i.e. none)

<BR><CODE>
-title </CODE> <I>string</I>: title (Default: NAO label (if any) else <I>expression</I>)

<BR><CODE>
-type </CODE> <I>string</I> plot-type (
<code>
"bar", "tile", "xy" or "z"
</code>
)
<BR>
&nbsp; &nbsp; &nbsp;
If rank is 1 then default type is 
<code>
"xy"
</code>
<BR>
&nbsp; &nbsp; &nbsp;
If rank is 2 and n_rows &lt;= 8 then default type is 
<code>
"xy"
</code>
<BR>
&nbsp; &nbsp; &nbsp;
If rank is 2 and n_rows  &gt; 8 then default type is 
<code>
"z"
</code>
<BR>
&nbsp; &nbsp; &nbsp;
If rank is 3 then default type is
<code>
"z"
</code>

<BR><CODE>
-width </CODE> <I>int</I>: Desired width (screen units). Not used for tiled-plot.
<BR>
&nbsp; &nbsp; &nbsp;
Type xy/bar: Width of whole window (Default: automatic)
<BR>
&nbsp; &nbsp; &nbsp;
Type z: Image width (can be "min max") (Default: NAO dim if within limits)

<BR><CODE>
-xflip </CODE> 0 or 1: Flip left-right?  0 = no, 1 = yes.  (Default: 0)

<BR><CODE>
-xlabel </CODE> <I>string</I>: x-axis label (Default: name of last dimension)

<BR><CODE>
-xticks </CODE> <I>expression</I>: Major tick marks of x-axis (Default: automatic)

<BR><CODE>
-yflip 0, 1, ascending or geog</CODE>:
Flip upside down?  0 = no, 1 = yes,
<code>
ascending
</code>
= "if y ascending",
<code>
geog
</code>
= "if ascending and (y_dim_name = 
<code>
latitude
</code>
or y_unit = 
<code>
degrees_north 
</code>
(or equivalent))" (Default: 
<code>
geog
</code>
)

<BR><CODE>
-ylabel </CODE> <I>string</I>: y-axis label (Default: name of 2nd-last dimension)

<BR><CODE>
-yticks </CODE> <I>expression</I>: Major tick marks of y-axis (Default: automatic)

<BR><CODE>
-zlabels </CODE> <I>list</I>: z-axis labels of values 0, 1, 2, &#133; (Default: none)

<BR><CODE>
-zticks </CODE> <I>expression</I>: Major tick marks of z-axis (Default: automatic)

<h3><a name=Examples>Examples</h3>

You can cut and paste the following examples into tkcon or wish.

<h4><a name=xy>x-y graphs and barcharts</h4>

<pre>
nap "sales = {
    {2 5 1 3 5 7 9 1 2 9 1 0}
    {9 2 5 5 3 9 2 0 8 8 3 8}
}"
nap "month = 1 .. 12"
$sales set coord "" month
$sales set label "Car sales"
plot_nao sales -labels "Joe Mary" -xtick "1..12" -dash {{} .} -symbols "plus cross"
plot_nao sales -labels "Joe Mary" -xtick "1..12" -type bar
</pre>

<h4><a name=z2>Color-coded z-images</h4>

These examples define and use the 2D NAO <code>z</code>.

<pre>
nap "n = 200"
nap "x = n ... 0.0 .. 10.0"
nap "y = x(-)"
nap "z = sin(x) * sin(reshape(n#y, 2#n))"
$z set coo y x
plot_nao z
plot_nao z -zticks "-1 .. 1 ... 0.2" -discrete 1; # discrete colors
plot_nao "nint(z+1)" -zlabels {{zero (0)} {one (1)} {two}}; # labelled values 0, 1, 2
</pre>

<h4><a name=z3>RGB z-images, tiles and animation</h4>

These examples define and use the 3D NAO <code>z3d</code>.
This is defined using <code>z</code> defined above.

<pre>
nap "z3d = z /// z*z // z**3 // z**4"
plot_nao z3d; # layer 0 = red, layer 1 = green, layer 2 = blue, layer 3 is ignored
plot_nao z3d -type tile -labels {z {z * z} z**3 z**4} -title "powers of z"
set frames [plot_nao z3d -rank 2]; # create four 2D frames
animate $frames; # animate these frames
</pre>

<h4><a name=print>Printing and writing files</h4>

Note that the
<code>
-print&nbsp;1
</code>
option can be used to print and write automatically in batch mode operation.

<pre>
nap "x = 200 ... 0 .. 4p"
nap "y = sin x"
$y set coo x
plot_nao y -print 1; # Print on default printer
plot_nao y -print 1 -filename sin.ps; # write postscript file sin.ps
plot_nao y -print 1 -filename sin.jpeg; # write JPEG image file sin.jpeg
</pre>

<P>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="2" bgcolor="737b9c">
  <TR>
    <TD align="center"><FONT color="#ffffff" size=-2><SPAN class="titlebar">
        <b>Author:</b> <a href="http://sourceforge.net/users/dav480/">Harvey Davies</a>
        &nbsp; &nbsp; &nbsp;
        &copy; 2002, CSIRO Australia.
        &nbsp; &nbsp; &nbsp;
        <a href="http://www.csiro.au/legalnotices/disclaimer.html">Legal Notice and Disclaimer</a>
        <br>

        <b>CVS Version Details:</b> $Id: plot_nao.html,v 1.13 2004/10/21 05:37:54 dav480 Exp $
        </SPAN></FONT>
    </TD>
  </TR>
</TABLE>

</body>
</html>
