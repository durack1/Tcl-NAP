# nap_interp.test --
# 
# Test running nap under multiple interpreters
#
# Copyright (c) 2002, CSIRO Australia
# Author: Harvey Davies, CSIRO Atmospheric Research
# $Id: nap_interp.test,v 1.6 2003/04/04 08:20:19 dav480 Exp $

Test nap_interp-1.1 {run nap under slave interp} {
    nap "a = 1"
    interp create i
    interp eval i "load $shared_lib"
    interp eval i {NAP::nap "a = 3"}
    interp eval i {$a}
} {3} 1 have_shared_lib

Test nap_interp-1.2 {delete slave interp} {
    interp delete i
    $a
} {1} 1 have_shared_lib

Test nap_interp-1.3 {unset a} {
    unset a
} {} 1 have_shared_lib

